{% extends 'base.html.twig' %}

{% block title %}Créez un voyage{% endblock %}

{% block body %}
    <div class="flex flex-col justify-center items-center mt-12 text-center px-6 md:px-0">
        <!-- Affichage des erreurs (si présentes) -->
        <div class="text-red-500 mb-4">
            {{ form_errors(form) }}
        </div>

        {{ form_start(form) }}
            <h1 class="text-4xl font-semibold text-gray-800 mb-8">Créez votre road trip</h1>
            
            <!-- Étape 1 : Titre et véhicule -->
            <div id="step1" class="step-container">
                <div class="mb-6">
                    {{ form_label(form.title, null, { 'label_attr': {'class': 'text-lg font-medium text-gray-700'} }) }}
                    {{ form_widget(form.title, {
                        'attr': {'class': 'mt-2 block w-full h-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500'}
                    }) }}
                </div>

                <div class="mb-6">
                    {{ form_label(form.vehicle, null, { 'label_attr': {'class': 'text-lg font-medium text-gray-700'} }) }}
                    {{ form_widget(form.vehicle, {
                        'attr': {'class': 'mt-2 block w-full h-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500'}
                    }) }}
                </div>
                
                <button id="step1-next" class="bg-slate-800 text-white p-2 rounded-lg mt-4">Suivant</button>
            </div>

            <!-- Étape 2 : Dates -->
            <div id="step2" class="step-container hidden">
                <div class="mb-6">
                    {{ form_label(form.startDate, null, { 'label_attr': {'class': 'text-lg font-medium text-gray-700'} }) }}
                    {{ form_widget(form.startDate, {
                        'attr': {'class': 'mt-2 block w-full h-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500'}
                    }) }}
                </div>

                <div class="mb-6">
                    {{ form_label(form.endDate, null, { 'label_attr': {'class': 'text-lg font-medium text-gray-700'} }) }}
                    {{ form_widget(form.endDate, {
                        'attr': {'class': 'mt-2 block w-full h-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500'}
                    }) }}
                </div>

                <button id="step2-next" class="bg-slate-800 text-white p-2 rounded-lg mt-4">Suivant</button>
            </div>

            <!-- Étape 3 : Image de couverture -->
            <div id="step3" class="step-container hidden">
                <div class="mb-6">
                    {{ form_label(form.coverImage, null, { 'label_attr': {'class': 'text-lg font-medium text-gray-700'} }) }}
                    {{ form_widget(form.coverImage, {
                        'attr': {'class': 'mt-2 block w-full h-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500', 'id': 'cover_image_input'}
                    }) }}
                </div>

                <div class="mb-6">
                    {{ form_label(form.isCommunity, null, { 'label_attr': {'class': 'text-lg font-medium text-gray-700'} }) }}
                    {{ form_widget(form.isCommunity, {
                        'attr': {'class': 'mt-2 block w-full h-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500', 'id': 'cover_image_input'}
                    }) }}
                </div>

                <div class="mb-6">
                    {{ form_row(form.submit, {
                        'attr': {'class': 'bg-green-600 text-white py-3 px-6 rounded-lg mt-4 hover:bg-green-700 focus:outline-none'}
                    }) }}
                </div>
            </div>
            
            {{ form_end(form) }}
        </div>
    </div>

    <script src="{{ asset('js/roadtripForm.js') }}"></script>
{% endblock %}
