{% extends 'base.html.twig' %}

{% block title %}DÃ©tails du voyage{% endblock %}

{% block body %}
    <div id="overlay" class="fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center hidden">
        <div class="bg-white p-8 rounded-lg shadow-md text-center">
            <p class="text-lg font-semibold text-green-600" id="flashMessage"></p>
            <button onclick="closeOverlay()" class="bg-red-600 text-white px-4 py-2 rounded-lg mt-4">Fermer</button>
        </div>
    </div>

    <div class="mt-4 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mx-4">
        {% for roadtrip in roadtrips %}
            <div class="bg-white rounded-lg shadow-md overflow-hidden">
            <div class="relative">
                <img src="{{ asset('uploads/' ~ roadtrip.coverImage) }}" alt="{{ roadtrip.title }}"
                    class="w-full h-24 object-cover ">
                <div class="absolute top-4 left-4 text-white bg-opacity-60 bg-black p-2 rounded">
                    <span class="text-xl font-semibold">{{ roadtrip.title }}</span>
                </div>
            </div>
                <div class="w-full p-2 text-white font-semibold bg-blackgreen">
                    <a href="{{ path('app_search_roadtrip', {'id': roadtrip.id}) }}">En savoir plus &#x3009;</a>
                </div>
                <div class="p-2 text-center text-white font-semibold bg-forestgreen w-full">
                    <a href="{{ path('app_update_roadtrip', {'id': roadtrip.id}) }}">Modifier</a>
                </div>

                <form class="w-full bg-red-600 text-white font-semibold text-center p-2" action="{{ path('app_delete_roadtrip', { 'id': roadtrip.id }) }}" method="POST">
                    <button type="submit" class="btn btn-danger">Supprimer</button>
                </form>
            </div>
        {% endfor %}
    </div>

    <div class="mt-8 text-center">
        <a href="{{ path('app_roadtrips') }}" 
           class="inline-block px-6 py-3 mt-4 text-white bg-button rounded-lg shadow-md hover:bg-blackgreen transition duration-300">
            &#x2190; Retour aux voyages
        </a>
    </div>

{% endblock %}
